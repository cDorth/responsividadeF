{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Lista de Tasks — MySphere</title>
  <link rel="stylesheet" href="{% static 'css/gamification_tasks_list.css' %}">
</head>
<body>
  <main class="wrap">
    <header class="page-header">
      <div class="title-block">
        <h1>Lista de Tasks</h1>
        <p class="subtitle">Tarefas disponíveis no sistema de gamificação</p>
      </div>
      <div class="actions">
        <a href="{% url 'task_create' %}" class="btn btn-primary">Criar Nova Task</a>
        <a href="{% url 'user_task_list' %}" class="btn btn-ghost">Ver Tasks de Usuário</a>
        <a href="{% url 'points_list' %}" class="btn btn-ghost">Ver Pontos</a>
      </div>
    </header>

    <section class="card">
      <div class="table-wrap">
        <table class="tasks-table" aria-label="Lista de tasks do sistema">
          <thead>
            <tr>
              <th>Título</th>
              <th>Descrição</th>
              <th>Pontos</th>
              <th>Criada em</th>
            </tr>
          </thead>
          <tbody>
            {% for task in tasks %}
            <tr>
              <td>{{ task.titulo }}</td>
              <td>{{ task.descricao|truncatechars:80 }}</td>
              <td class="center">{{ task.pontos }}</td>
              <td class="center">{{ task.criada_em }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4" class="empty">Nenhuma Task cadastrada.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>
  </main>
</body>
</html>
